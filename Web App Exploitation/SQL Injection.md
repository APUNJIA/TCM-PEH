UNION Injections:

In sql injections, '#' or a '-- -' is considered a terminator which basically means that everything after this will not be considered.

1=1 is a statement that automatically results in a true result. So, if we were to put a statement like give me the password if password is 'x' or 1=1, since its an OR statement, it will always give you the password.

In a UNION injection, it lets us retrieve information from other tables, or columns that were not initially defined in the original statement. One problem with UNION injection is that we can only select the same number of columns as we did in the original query. 

In order to do that, we can set the placeholder name for the column as null and then we can do a hit and trial to see how many columns can we ask without an error. So, something like this for example:

```
jeremy' union select null, null, null#
```

We can use UNION injection to find the version of MySQL they are using with this command:

```
jeremy' union select null,null, version()#
```

We can also see the different tables listed in the database:

```
jeremy' union select null,null, table_name from information_schema.tables#
```

Same thing with columns:

```
jeremy' union select null,null, column_name from information_schema.columns#
```

We can then select different columns from a specific table and list its attributes once we know that the database is vulnerable to SQL injections:

```
jeremy' union select null, null, password from injection0x01#
```

Also another thing with UNION Injection is if you try to select a column name with an integer where it stores information in a string, it gives you an error.

SQL Injection Cheat Sheet: https://portswigger.net/web-security/sql-injection/cheat-sheet

You can also use tools like [[Information Gathering with Burp Suite |BurpSuite]] to make your SQL injections a little bit easier. 

For example if you have a login page, you can use the POST request by going in proxy > httprequest and put the POST request in repeater and play with the payloads there. 

You can enumerate different things using an SQL attribute known as substring where it can take the data from a specific table and compare it to the data that you provide and you can run it to see if it gives you a favourable response. Like for eg:

```
' and substring((select password from injection0x02 where username = 'jessamy'), 1, 1) = 'j'#
```

I put this command in front of the session cookie of the post request and it seemed to work. 

You can then automate this by selecting 'j' in the thing and pressing Ctrl+I which will take you to intruder which will then pass different payloads to the argument that you have given and then compare responses. All you have to do is go to simple list and add all the different payloads you want to attach to the thing.

If you dont like doing all of that and you wish you can automate this entire thing, you can use a tool like sqlmap.

To use this tool, you have to copy the POST request, save it in a text file on your system and run the command:

```bash
sqlmap -r <name_of_txt_file> --level=2
```

encode cookie values no
skip default payloads yes
include all tests for mysql yes
find proper UNION column types no
random integers yes
do you want to keep testing for others no


